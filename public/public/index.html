<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nitya AI - StarterNode</title>
    <link rel="icon" href="/favicon.ico">
    <link rel="stylesheet" href="/global.css">
    <link rel="stylesheet" href="/styles.css">
</head>
<body>
    <!-- Main Container: Vertical Stack -->
    <div class="app-container">

        <!-- Preview Section (Top) -->
        <div class="preview-section">
            <!-- NITYA Logo (Top-Left with Glass Effect) -->
            <div class="preview-logo">
                <div class="logo-cube"></div>
                <span>Nitya AI</span>
            </div>

            <!-- Online Indicator (Top-Right with Glass Effect) -->
            <div class="preview-status">
                <span class="status-dot"></span>
                <span>Online</span>
            </div>

            <!-- Device Toggle Bar (Overlayed with Glass Effect) -->
            <div class="device-toggle-bar">
                <button class="device-toggle-btn active" data-device="desktop">ðŸ’» Desktop</button>
                <button class="device-toggle-btn" data-device="tablet">ðŸ“± Tablet</button>
                <button class="device-toggle-btn" data-device="mobile">ðŸ“± Mobile</button>
            </div>

            <div class="preview-container desktop">
                <iframe
                    id="preview-iframe"
                    src="http://localhost:3000/prospects/test_user_001/index.html"
                    sandbox="allow-scripts allow-same-origin"
                ></iframe>
            </div>
        </div>

        <!-- Resizable Divider -->
        <div class="resize-divider"></div>

        <!-- Bottom Section: Chat + Assets -->
        <div class="bottom-section">

            <!-- Chat Panel (Bottom Left) -->
            <div class="chat-panel">
                <!-- Messages Area -->
                <div id="messages" class="messages-container">
                    <!-- Messages appear here -->
                </div>

                <!-- Input Area -->
                <div class="input-container">
                    <textarea
                        id="user-input"
                        placeholder="Type your message..."
                        rows="1"
                    ></textarea>
                    <button id="send-btn" class="btn-send">
                        Send
                    </button>
                </div>

                <!-- Hidden file input -->
                <input type="file" id="file-input" accept="image/*" style="display: none;">
            </div>

            <!-- Assets Panel (Bottom Right) -->
            <div class="assets-panel">
                <iframe
                    id="fileviewer-iframe"
                    src="http://localhost:3000/prospects/test_user_001/fileviewer.html"
                    sandbox="allow-scripts allow-same-origin"
                ></iframe>
            </div>

        </div>

    </div>

    <!-- NITYA V1.2 Modular Architecture -->
    <!-- Load order: Base classes â†’ Components â†’ Services â†’ Utils â†’ App orchestrator -->

    <!-- Base Component -->
    <script src="/js/components/BaseComponent.js"></script>

    <!-- Components -->
    <script src="/js/components/ChatComponent.js"></script>
    <script src="/js/components/PreviewComponent.js"></script>
    <script src="/js/components/DeviceToggle.js"></script>
    <script src="/js/components/ResizableDivider.js"></script>

    <!-- Services -->
    <script src="/js/services/MessageService.js"></script>
    <script src="/js/services/ChatService.js"></script>
    <script src="/js/services/SessionService.js"></script>

    <!-- Utilities -->
    <script src="/js/utils/DataDetector.js"></script>

    <!-- Main App Orchestrator -->
    <script src="/js/app.js"></script>
</body>
</html>
